import{d as j,f as z,g as G}from"./chunk-UFCP7R23.js";import"./chunk-FJ6OPYKC.js";import{a as Q}from"./chunk-O2VPJG5H.js";import"./chunk-J5ZODM7E.js";import{a as R}from"./chunk-TAREQWT5.js";import{a as u}from"./chunk-67BEARJV.js";import{a as F}from"./chunk-UYRLFEU7.js";import{a as A}from"./chunk-NBLA4CFA.js";import{b as y,c as E,d as D}from"./chunk-RSDMMZGM.js";import{Ga as w,I as s,J as n,Q as d,Sa as B,Y as l,Ya as M,Z as c,_ as v,ca as p,fa as b,ga as _,ha as g,ia as I,ja as S,qa as C,ta as T,ua as P,w as f}from"./chunk-N3246BH5.js";import{g as k,h as r}from"./chunk-YGAJRIQG.js";var h=k(Q());var N=(()=>{class m{constructor(i,t,e,a,o){this.router=i,this.userService=t,this.permisosService=e,this.proveedorService=a,this.translate=o,this.permisos=[],this.showcampoFiltro=!1,this.endPoint="proveedor",this.filters="",this.columnas=[{title:"ID",data:"id"},{title:"Name",data:"razonSocial"},{title:"Phone",data:"telefono"},{title:"Email",data:"email"},{title:"Status",data:"estado"},{title:"Nit",data:"nit"},{title:"Created At",data:"fecha_creacion"},{title:"Updated At",data:"fecha_actualizacion"}],this.permisosAcciones=this.permisos,this.tamano="",this.scrollable=!1,this.title="",this.save=!0,this.buttonSave="Guardar",this.edit=!0,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.cierreModal="true",this.componentePrecargado="",this.search=!0,this.buttonSearch="Buscar",this.iconFilter="fa fa-filter",this.componenteFilter="FiltroProveedorComponent"}ngOnInit(){return r(this,null,function*(){yield this.userService.refreshToken("authadmin");let i=yield this.userService.getUser("authadmin"),t=yield this.permisosService.permisos(i.data.id,"proveedor");this.permisos=t.data})}crearData(i){localStorage.setItem("profile","admin"),this.tamano="xl",this.scrollable=!1,this.title=this.translate.instant("pages-proveedor.Title.CreateSupplierWord"),this.save=!0,this.buttonSave="Guardar",this.edit=!1,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.cierreModal="true",this.componentePrecargado="CrearProveedorComponent";let t=document.getElementById("miBoton");t&&(t.setAttribute("componente",this.componentePrecargado),t.click())}verData(i){this.tamano="xl",this.scrollable=!1,this.title=this.translate.instant("pages-proveedor.Title.SeeSupplierWord"),this.save=!1,this.buttonSave="Guardar",this.edit=!1,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.cierreModal="true",this.componentePrecargado="VerProveedorComponent";let t=document.getElementById("miBoton");t&&(this.router.navigate([],{queryParams:{id:i}}),t.setAttribute("componente",this.componentePrecargado),t.click())}editarData(i){this.tamano="xl",this.scrollable=!1,this.title=this.translate.instant("pages-proveedor.Title.EditSupplierWord"),this.save=!1,this.buttonSave="Guardar",this.edit=!1,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.componentePrecargado="EditarProveedorComponent";let t=document.getElementById("miBoton");t&&(this.router.navigate([],{queryParams:{id:i}}),t.setAttribute("componente",this.componentePrecargado),t.click())}eliminarData(i){console.log("eliminarData "+i),this.translate.get("pages-usuarios.Swal.TitleAreYouSure").subscribe(t=>{h.default.fire({title:t,text:this.translate.instant("pages-usuarios.Swal.TitleWarnigRevert"),icon:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("pages-usuarios.Swal.TitleDelete"),cancelButtonText:this.translate.instant("pages-usuarios.Swal.TitleCancel")}).then(e=>r(this,null,function*(){e.isConfirmed&&e.isConfirmed&&(yield this.proveedorService.deleteSupplier(i),yield this.someInput.reload(),h.default.fire({title:this.translate.instant("pages-usuarios.Swal.TitleDelete"),text:this.translate.instant("pages-usuarios.Swal.TitleRegisterDeleted"),icon:"success"}))}))})}refrescarTabla(){return r(this,null,function*(){setTimeout(()=>r(this,null,function*(){yield this.someInput.reload()}),100)})}filtroData(){return r(this,null,function*(){let i=yield $(".complementoRuta").val();typeof i=="string"?this.filters=i:this.filters=""})}static{this.\u0275fac=function(t){return new(t||m)(n(B),n(M),n(F),n(j),n(y))}}static{this.\u0275cmp=f({type:m,selectors:[["app-proveedor-index"]],viewQuery:function(t,e){if(t&1&&b(u,5),t&2){let a;_(a=g())&&(e.someInput=a.first)}},standalone:!0,features:[C],decls:9,vars:21,consts:[[1,""],[3,"filtroItem","icon","componente"],[1,"card","p-5"],[3,"verItem","crearNuevoItem","editarItem","eliminarItem","campoFiltro","endPoint","columnas","permisosAcciones","filters"],[3,"actualizarTabla","tamano","scrollable","title","save","buttonSave","edit","buttonEdit","cancel","buttonCancel","componentePrecargado","cierreModal"]],template:function(t,e){t&1&&(l(0,"div",0)(1,"h1"),I(2),T(3,"translate"),c(),l(4,"app-globales-search",1),p("filtroItem",function(){return e.filtroData()}),c(),v(5,"br"),l(6,"div",2)(7,"app-globales-tablecrud",3),p("verItem",function(o){return e.verData(o)})("crearNuevoItem",function(o){return e.crearData(o)})("editarItem",function(o){return e.editarData(o)})("eliminarItem",function(o){return e.eliminarData(o)}),c()(),l(8,"app-globales-modal-boostrap",4),p("actualizarTabla",function(){return e.refrescarTabla()}),c()()),t&2&&(s(2),S(P(3,19,"pages-proveedor.Title.Module")),s(2),d("icon",e.iconFilter)("componente",e.componenteFilter),s(3),d("campoFiltro",e.showcampoFiltro)("endPoint",e.endPoint)("columnas",e.columnas)("permisosAcciones",e.permisos)("filters",e.filters),s(),d("tamano",e.tamano)("scrollable",e.scrollable)("title",e.title)("save",e.save)("buttonSave",e.buttonSave)("edit",e.edit)("buttonEdit",e.buttonEdit)("cancel",e.cancel)("buttonCancel",e.buttonCancel)("componentePrecargado",e.componentePrecargado)("cierreModal",e.cierreModal))},dependencies:[w,R,D,E,G,u,z]})}}return m})();var re=[{path:"",data:{breadcrumb:"Index"},canActivate:[A],component:N}];export{re as ProveedorRouter};
