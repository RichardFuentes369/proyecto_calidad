import './polyfills.server.mjs';
import{a as h}from"./chunk-6N7CIDGI.mjs";import{a as v}from"./chunk-XTAIGVHX.mjs";import{a as E}from"./chunk-VWSEUJSM.mjs";import{a as p}from"./chunk-ILRWNN2W.mjs";import{b as x,c as F,d as A}from"./chunk-T6JGTEUQ.mjs";import{i as P}from"./chunk-NW44QHZH.mjs";import{Da as l,Ga as D,Ha as T,S as f,T as d,ba as g,ja as a,ka as r,pa as S,sa as M,ta as b,ua as w,va as s,wa as I,wb as _,y as n,zb as y}from"./chunk-7ZALS5IL.mjs";import{h as c}from"./chunk-COT65Y5O.mjs";var R=(()=>{class t{constructor(o,e,i,m,u){this.router=o,this.userService=e,this.permisosService=i,this.translate=m,this.route=u,this.permisos=[],this.showcampoFiltro=!0,this.endPoint="modulos/getPermisosSobrePadre/0",this.columnas=[{title:"Permission name",data:"nombre"},{title:"Permission",data:"permiso"},{title:"Description",data:"descripcion"}],this.permisosAcciones=this.permisos}ngOnInit(){return c(this,null,function*(){localStorage.removeItem("modulo"),localStorage.removeItem("submodulo"),yield this.userService.refreshToken("authadmin");let o=yield this.userService.getUser("authadmin"),e=yield this.permisosService.permisos(o.data.id,"modulos");this.permisos=e.data})}verData(o){o=="17"?(localStorage.setItem("submodulo",o),this.router.navigate(["/admin/menu/index-modulos/index-submodulos/index-permisos"])):(localStorage.setItem("modulo",o),this.router.navigate(["/admin/menu/index-modulos/index-submodulos/"]))}crearData(o){console.log("crearData "+o)}eliminarData(o){console.log("eliminarData "+o),this.translate.get("pages-usuarios.Swal.TitleAreYouSure").subscribe(e=>{v.fire({title:e,text:this.translate.instant("pages-usuarios.Swal.TitleWarnigRevert"),icon:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("pages-usuarios.Swal.TitleDelete"),cancelButtonText:this.translate.instant("pages-usuarios.Swal.TitleCancel")}).then(i=>c(this,null,function*(){i.isConfirmed&&i.isConfirmed&&(yield this.someInput.reload(),v.fire({title:this.translate.instant("pages-usuarios.Swal.TitleDelete"),text:this.translate.instant("pages-usuarios.Swal.TitleRegisterDeleted"),icon:"success"}))}))})}static{this.\u0275fac=function(e){return new(e||t)(d(y),d(P),d(E),d(x),d(_))}}static{this.\u0275cmp=n({type:t,selectors:[["app-modulos"]],viewQuery:function(e,i){if(e&1&&M(h,5),e&2){let m;b(m=w())&&(i.someInput=m.first)}},standalone:!0,features:[l],decls:6,vars:7,consts:[[1,""],[1,"card","p-5"],[3,"verItem","crearNuevoItem","eliminarItem","campoFiltro","endPoint","columnas","permisosAcciones"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h1"),s(2),D(3,"translate"),r(),a(4,"div",1)(5,"app-globales-tablecrud",2),S("verItem",function(u){return i.verData(u)})("crearNuevoItem",function(u){return i.crearData(u)})("eliminarItem",function(u){return i.eliminarData(u)}),r()()()),e&2&&(f(2),I(T(3,5,"pages-modulos.Title.Module")),f(3),g("campoFiltro",i.showcampoFiltro)("endPoint",i.endPoint)("columnas",i.columnas)("permisosAcciones",i.permisos))},dependencies:[A,F,h]})}}return t})();var j=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=n({type:t,selectors:[["app-crear-modulo"]],standalone:!0,features:[l],decls:2,vars:0,template:function(e,i){e&1&&(a(0,"p"),s(1,"crear-modulo works!"),r())}})}}return t})();var V=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=n({type:t,selectors:[["app-editar-modulo"]],standalone:!0,features:[l],decls:2,vars:0,template:function(e,i){e&1&&(a(0,"p"),s(1,"editar-modulo works!"),r())}})}}return t})();var k=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=n({type:t,selectors:[["app-ver-modulo"]],standalone:!0,features:[l],decls:2,vars:0,template:function(e,i){e&1&&(a(0,"p"),s(1,"ver-modulo works!"),r())}})}}return t})();var ee=[{path:"",data:{breadcrumb:"Index"},canActivate:[p],component:R},{path:"crear-modulo",title:"Crear nuevo modulo",canActivate:[p],component:j},{path:"ver-modulo",title:"Ver modulo",canActivate:[p],component:V},{path:"editar-modulo",title:"Editar modulo",canActivate:[p],component:k},{path:"index-submodulos",title:"Submodulos",canActivate:[p],data:{breadcrumb:"Submodulos"},loadChildren:()=>import("./chunk-RHGZ5BPN.mjs").then(t=>t.SubModulosRoutes)}];export{ee as ModulosRoutes};
