import './polyfills.server.mjs';
import{a as A}from"./chunk-KJKATUI3.mjs";import{a as w}from"./chunk-VWSEUJSM.mjs";import{a as T}from"./chunk-ILRWNN2W.mjs";import{b as g,c as I,d as b}from"./chunk-T6JGTEUQ.mjs";import{i as F}from"./chunk-NW44QHZH.mjs";import{Da as h,Ga as v,Ha as f,S as r,T as t,ba as c,ja as a,ka as n,la as p,va as l,wa as u,wb as P,y as d,zb as S}from"./chunk-7ZALS5IL.mjs";import{h as m}from"./chunk-COT65Y5O.mjs";var C=(()=>{class s{constructor(o,i,e,j,y){this.router=o,this.route=i,this.userService=e,this.permisosService=j,this.translate=y,this.permisos=[],this.moduloPadre=0,this.showcampoFiltro=!0,this.endPoint=`modulos/getPermisosSobrePadre/${localStorage.getItem("submodulo")}`,this.columnas=[{title:"ID",data:"id"},{title:"First name",data:"nombre_permiso"}],this.permisosAcciones=this.permisos}ngOnInit(){return m(this,null,function*(){this.moduloPadre=localStorage.getItem("submodulo"),this.moduloPadre||this.router.navigate(["/admin/menu/index-modulos"]),yield this.userService.refreshToken("authadmin");let o=yield this.userService.getUser("authadmin"),i=yield this.permisosService.permisos(o.data.id,"modulos");for(let e of i.data)e.permiso_nombre_permiso!="ver"&&this.permisos.push(e)})}static{this.\u0275fac=function(i){return new(i||s)(t(S),t(P),t(F),t(w),t(g))}}static{this.\u0275cmp=d({type:s,selectors:[["app-permisos"]],standalone:!0,features:[h],decls:6,vars:7,consts:[[1,""],[1,"card","p-5"],[3,"campoFiltro","endPoint","columnas","permisosAcciones"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"h1"),l(2),v(3,"translate"),n(),a(4,"div",1),p(5,"app-globales-tablecrud",2),n()()),i&2&&(r(2),u(f(3,5,"pages-modulos.Title.Permissions")),r(3),c("campoFiltro",e.showcampoFiltro)("endPoint",e.endPoint)("columnas",e.columnas)("permisosAcciones",e.permisos))},dependencies:[b,I,A]})}}return s})();var $=[{path:"",data:{breadcrumb:"Index"},canActivate:[T],component:C}];export{$ as PermisosRoutes};
