import './polyfills.server.mjs';
import{c as Z,f as R,g as j}from"./chunk-G4DVHU7Q.mjs";import{a as F}from"./chunk-K6AYXP3Q.mjs";import{a as h}from"./chunk-6N7CIDGI.mjs";import"./chunk-4EVD5Z2M.mjs";import{a as p}from"./chunk-XTAIGVHX.mjs";import"./chunk-P2LXTYIO.mjs";import{a as A}from"./chunk-VWSEUJSM.mjs";import{a as M}from"./chunk-ILRWNN2W.mjs";import{b as z,c as D,d as P}from"./chunk-T6JGTEUQ.mjs";import{i as B}from"./chunk-NW44QHZH.mjs";import{Da as S,Ga as T,Ha as w,S as s,T as r,ba as d,eb as y,ja as l,ka as m,la as b,pa as u,sa as v,ta as C,ua as _,va as g,wa as I,y as f,zb as E}from"./chunk-7ZALS5IL.mjs";import{h as o}from"./chunk-COT65Y5O.mjs";var G=(()=>{class c{constructor(a,t,e,i,n){this.router=a,this.userService=t,this.permisosService=e,this.zonaComunService=i,this.translate=n,this.permisos=[],this.showcampoFiltro=!1,this.endPoint="zona",this.filters="",this.columnas=[{title:"ID",data:"id"},{title:"Name",data:"nombre"},{title:"Description",data:"descripcion"},{title:"Location",data:"ubicacion"},{title:"Created At",data:"fecha_creacion"},{title:"Updated At",data:"fecha_actualizacion"}],this.permisosAcciones=this.permisos,this.tamano="",this.scrollable=!1,this.title="",this.save=!0,this.buttonSave="Guardar",this.edit=!0,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.cierreModal="true",this.componentePrecargado="",this.search=!0,this.buttonSearch="Buscar",this.iconFilter="fa fa-filter",this.componenteFilter="FiltroZonaComponent"}ngOnInit(){return o(this,null,function*(){yield this.userService.refreshToken("authadmin");let a=yield this.userService.getUser("authadmin"),t=yield this.permisosService.permisos(a.data.id,"zona_comun");this.permisos=t.data})}crearData(a){this.tamano="xl",this.scrollable=!1,this.title="Crear zona comun",this.save=!0,this.buttonSave="Guardar",this.edit=!1,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.cierreModal="true",this.componentePrecargado="CrearZonaComponent";let t=document.getElementById("miBoton");t&&(t.setAttribute("componente",this.componentePrecargado),t.click())}verData(a){this.tamano="xl",this.scrollable=!1,this.title="Ver zona comun",this.save=!1,this.buttonSave="Guardar",this.edit=!1,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.cierreModal="true",this.componentePrecargado="VerZonaComponent";let t=document.getElementById("miBoton");t&&(this.router.navigate([],{queryParams:{id:a}}),t.setAttribute("componente",this.componentePrecargado),t.click())}editarData(a){this.tamano="xl",this.scrollable=!1,this.title="Editar zona comun",this.save=!1,this.buttonSave="Guardar",this.edit=!0,this.buttonEdit="Editar",this.cancel=!0,this.buttonCancel="Cancelar",this.componentePrecargado="EditarZonaComponent";let t=document.getElementById("miBoton");t&&(this.router.navigate([],{queryParams:{id:a}}),t.setAttribute("componente",this.componentePrecargado),t.click())}eliminarData(a){console.log("eliminarData "+a),this.translate.get("pages-zonaComun.Swal.TitleAreYouSure").subscribe(t=>{p.fire({title:t,text:this.translate.instant("pages-zonaComun.Swal.TitleWarnigRevert"),icon:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("pages-zonaComun.Swal.TitleDelete"),cancelButtonText:this.translate.instant("pages-zonaComun.Swal.TitleCancel")}).then(e=>o(this,null,function*(){e.isConfirmed&&e.isConfirmed&&(yield this.zonaComunService.deleteZona(a),yield this.someInput.reload(),p.fire({title:this.translate.instant("pages-zonaComun.Swal.TitleDelete"),text:this.translate.instant("pages-zonaComun.Swal.TitleRegisterDeleted"),icon:"success"}))}))})}refrescarTabla(){return o(this,null,function*(){setTimeout(()=>o(this,null,function*(){yield this.someInput.reload()}),100)})}filtroData(){return o(this,null,function*(){let a=yield $(".complementoRuta").val();typeof a=="string"?this.filters=a:this.filters=""})}static{this.\u0275fac=function(t){return new(t||c)(r(E),r(B),r(A),r(Z),r(z))}}static{this.\u0275cmp=f({type:c,selectors:[["app-zonas-comunes-index"]],viewQuery:function(t,e){if(t&1&&v(h,5),t&2){let i;C(i=_())&&(e.someInput=i.first)}},standalone:!0,features:[S],decls:9,vars:21,consts:[[1,""],[3,"filtroItem","icon","componente"],[1,"card","p-5"],[3,"verItem","crearNuevoItem","editarItem","eliminarItem","campoFiltro","endPoint","columnas","permisosAcciones","filters"],[3,"actualizarTabla","tamano","scrollable","title","save","buttonSave","edit","buttonEdit","cancel","buttonCancel","componentePrecargado","cierreModal"]],template:function(t,e){t&1&&(l(0,"div",0)(1,"h1"),g(2),T(3,"translate"),m(),l(4,"app-globales-search",1),u("filtroItem",function(){return e.filtroData()}),m(),b(5,"br"),l(6,"div",2)(7,"app-globales-tablecrud",3),u("verItem",function(n){return e.verData(n)})("crearNuevoItem",function(n){return e.crearData(n)})("editarItem",function(n){return e.editarData(n)})("eliminarItem",function(n){return e.eliminarData(n)}),m()(),l(8,"app-globales-modal-boostrap",4),u("actualizarTabla",function(){return e.refrescarTabla()}),m()()),t&2&&(s(2),I(w(3,19,"pages-zonaComun.Title.Module")),s(2),d("icon",e.iconFilter)("componente",e.componenteFilter),s(3),d("campoFiltro",e.showcampoFiltro)("endPoint",e.endPoint)("columnas",e.columnas)("permisosAcciones",e.permisos)("filters",e.filters),s(),d("tamano",e.tamano)("scrollable",e.scrollable)("title",e.title)("save",e.save)("buttonSave",e.buttonSave)("edit",e.edit)("buttonEdit",e.buttonEdit)("cancel",e.cancel)("buttonCancel",e.buttonCancel)("componentePrecargado",e.componentePrecargado)("cierreModal",e.cierreModal))},dependencies:[y,F,P,D,j,h,R]})}}return c})();var ne=[{path:"",data:{breadcrumb:"Index"},canActivate:[M],component:G}];export{ne as ZonaComunRouter};
